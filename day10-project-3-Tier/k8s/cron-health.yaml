apiVersion: batch/v1
kind: CronJob
metadata:
  name: health-ping
  namespace: twd
spec:
  schedule: "*/5 * * * *"
  concurrencyPolicy: Forbid
  successfulJobsHistoryLimit: 3
  failedJobsHistoryLimit: 1
  startingDeadlineSeconds: 120
  jobTemplate:
    spec:
      backoffLimit: 1
      template:
        spec:
          restartPolicy: Never
          containers:
          - name: ping
            image: curlimages/curl:8.7.1
            args: ["-sS", "http://backend-service:5000/api/info"]
